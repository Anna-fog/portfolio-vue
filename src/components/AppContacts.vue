<template>
  <section id="contacts" class="contacts">
    <div class="contacts__moon">
      <div class="container">
        <div class="contacts__wrapper">
          <div class="contacts__content">
            <div  class="title title_contacts">Contacts</div>
            <div class="contacts__social">
              <a target="_blank" class="github" href="https://github.com/Anna-fog?tab=repositories">
                <svg class="contacts__link icon" width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M10.8204 24.1211C10.6118 24.1599 10.5207 24.2578 10.5468 24.4139C10.5728 24.5701 10.69 24.6223 10.8983 24.5701C11.1069 24.5181 11.198 24.4268 11.1718 24.2967C11.1459 24.1535 11.0287 24.0949 10.8204 24.1211Z" fill="white"/>
                  <path d="M9.70703 24.2775C9.49865 24.2775 9.39453 24.3487 9.39453 24.4922C9.39453 24.6614 9.50529 24.7329 9.72652 24.7069C9.9349 24.7069 10.0392 24.6352 10.0392 24.4922C10.0392 24.3232 9.9284 24.2513 9.70703 24.2775Z" fill="white"/>
                  <path d="M8.18378 24.2185C8.13179 24.3618 8.21648 24.4593 8.43765 24.5116C8.63295 24.5894 8.75671 24.5504 8.8087 24.3943C8.84783 24.2513 8.76314 24.1474 8.55483 24.0819C8.35945 24.03 8.23584 24.0749 8.18378 24.2185Z" fill="white"/>
                  <path d="M28.3496 1.65024C27.2493 0.550148 25.9247 0 24.3749 0H5.62497C4.07563 0 2.75061 0.550148 1.65024 1.65024C0.550149 2.75053 0 4.07555 0 5.62496V24.3751C0 25.9246 0.550149 27.2495 1.65024 28.3496C2.75054 29.4499 4.07563 30 5.62497 30H9.99995C10.2862 30 10.5012 29.9902 10.6444 29.971C10.7875 29.9513 10.9306 29.8666 11.0739 29.7167C11.2173 29.5671 11.2887 29.349 11.2887 29.0626C11.2887 29.0238 11.2853 28.5806 11.2789 27.7343C11.2722 26.8877 11.269 26.2173 11.269 25.7224L10.8198 25.8006C10.5333 25.8526 10.172 25.8755 9.73576 25.8689C9.29972 25.8624 8.84712 25.8169 8.37845 25.7322C7.9095 25.6475 7.47346 25.4522 7.06977 25.1465C6.66629 24.8402 6.37986 24.44 6.21055 23.9453L6.01517 23.4958C5.88499 23.1966 5.68004 22.8645 5.40004 22.5002C5.12004 22.1354 4.83689 21.888 4.55046 21.7578L4.41371 21.6601C4.32266 21.595 4.23803 21.5166 4.15984 21.4255C4.08179 21.3342 4.02323 21.2429 3.98417 21.1521C3.9451 21.0608 3.97753 20.9859 4.08179 20.9271C4.18604 20.8686 4.37465 20.8396 4.64822 20.8396L5.0387 20.8981C5.2992 20.9501 5.62127 21.1062 6.0056 21.3668C6.38965 21.6271 6.70536 21.9656 6.95279 22.3822C7.25243 22.9162 7.61342 23.3228 8.03681 23.6028C8.45985 23.8831 8.88639 24.023 9.316 24.023C9.74561 24.023 10.1167 23.9905 10.4293 23.9256C10.7416 23.8604 11.0346 23.7625 11.3081 23.6323C11.4253 22.76 11.7444 22.089 12.2651 21.6204C11.523 21.5422 10.8557 21.4251 10.2631 21.2687C9.67077 21.1124 9.05871 20.8586 8.42729 20.5069C7.7956 20.1553 7.27158 19.7194 6.8549 19.1983C6.43829 18.6771 6.09638 17.9936 5.82965 17.1475C5.56278 16.3009 5.42931 15.3242 5.42931 14.2176C5.42931 12.6422 5.94382 11.3008 6.97243 10.1942C6.49055 9.0093 6.53604 7.68134 7.10904 6.20986C7.48666 6.0926 8.04666 6.18058 8.78877 6.47357C9.53101 6.76678 10.0745 7.0175 10.4196 7.22553C10.7648 7.43363 11.0414 7.60958 11.2498 7.75297C12.461 7.41441 13.7109 7.24516 14.9999 7.24516C16.2888 7.24516 17.5389 7.41441 18.7501 7.75297L19.4923 7.28423C20.0003 6.9716 20.5992 6.68517 21.2894 6.42487C21.9795 6.1645 22.5067 6.09281 22.8715 6.21006C23.4572 7.68155 23.5096 9.00951 23.0274 10.1943C24.056 11.3011 24.5706 12.6424 24.5706 14.2178C24.5706 15.3246 24.4371 16.3046 24.1703 17.1573C23.9036 18.0101 23.5588 18.6939 23.1352 19.2082C22.7122 19.7226 22.1848 20.1552 21.5534 20.5071C20.9218 20.8585 20.3098 21.1127 19.7172 21.2686C19.1247 21.425 18.4575 21.5425 17.7154 21.6207C18.392 22.2064 18.7305 23.1306 18.7305 24.3939V29.062C18.7305 29.2834 18.7628 29.4623 18.8279 29.5991C18.8935 29.7358 18.9974 29.8299 19.1406 29.8824C19.2844 29.9343 19.4108 29.9668 19.5217 29.9798C19.6327 29.9928 19.7919 29.9994 20.0003 29.9994H24.3752C25.9246 29.9994 27.2497 29.4493 28.3495 28.349C29.4498 27.2487 29.9999 25.9236 29.9999 24.3742V5.62496C29.9998 4.07555 29.4496 2.75033 28.3496 1.65024Z" fill="white"/>
                  <path d="M5.93768 21.8359C5.84662 21.9007 5.85962 22.0049 5.97681 22.1482C6.10719 22.2783 6.21124 22.2979 6.28943 22.2067C6.38049 22.1418 6.36749 22.0376 6.2501 21.8941C6.11999 21.7771 6.01587 21.7575 5.93768 21.8359Z" fill="white"/>
                  <path d="M5.29327 21.3477C5.25428 21.439 5.29984 21.5172 5.43002 21.582C5.53407 21.6474 5.61897 21.6345 5.68389 21.5432C5.72288 21.4519 5.67732 21.3737 5.54714 21.3084C5.41696 21.2692 5.33233 21.2824 5.29327 21.3477Z" fill="white"/>
                  <path d="M6.54307 22.5978C6.42575 22.6627 6.42575 22.7802 6.54307 22.9493C6.66025 23.1188 6.77073 23.1642 6.87505 23.0859C6.99231 22.9947 6.99231 22.871 6.87505 22.7147C6.77101 22.5458 6.66025 22.5063 6.54307 22.5978Z" fill="white"/>
                  <path d="M7.2268 23.4763C7.10954 23.5807 7.1354 23.7039 7.30492 23.8476C7.46096 24.0035 7.59122 24.0232 7.6954 23.9057C7.79966 23.8018 7.7736 23.6782 7.61728 23.5349C7.46124 23.379 7.33099 23.3593 7.2268 23.4763Z" fill="white"/>
                </svg>
              </a>

              <a target="_blank" class="behance" href="https://www.behance.net/anna49fogbb16">
                <svg class="contacts__link icon" width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M11.6099 10.9556H11.1817H8.32678V13.5725H11.3958C11.943 13.5725 12.4188 13.4298 12.4188 12.1689C12.4188 10.908 11.6099 10.9556 11.6099 10.9556Z" fill="white"/>
                  <path d="M11.6099 15.4761H8.32678V18.8068H11.2055C11.253 18.8068 11.3244 18.8068 11.4196 18.8068C11.8954 18.8068 12.7994 18.6164 12.7994 17.189C12.8232 15.4999 11.6099 15.4761 11.6099 15.4761Z" fill="white"/>
                  <path d="M22.4584 0.0119629H7.51784C3.37827 0.0119629 0 3.39023 0 7.52981V22.4941C0 26.6099 3.37827 29.9882 7.51784 29.9882H22.4822C26.6217 29.9882 30 26.6099 30 22.4703V7.52981C29.9762 3.39023 26.5979 0.0119629 22.4584 0.0119629ZM17.6051 9.52822H22.6011V10.7178H17.6051V9.52822ZM15.2736 17.3553C15.2736 21.0667 11.6098 21.1856 11.6098 21.1856H8.23156H8.1364H5.70975V8.8145H8.11261H8.20777H11.586C13.4179 8.8145 14.8692 9.86129 14.8692 12.05C14.8692 14.2388 13.1086 14.3577 13.1086 14.3577C15.4401 14.3339 15.2736 17.3553 15.2736 17.3553ZM24.2427 17.1412H18.2236C18.2236 19.5203 20.2696 19.33 20.2696 19.33C22.1967 19.33 22.1253 18.0929 22.1253 18.0929H24.1713C24.1713 21.4235 20.1983 21.2808 20.1983 21.2808C15.4401 21.2808 15.7494 16.594 15.7494 16.594C15.7494 16.594 15.7494 11.8835 20.1983 11.8835C24.885 11.8597 24.2427 17.1412 24.2427 17.1412Z" fill="white"/>
                  <path d="M20.2458 13.5964C18.4615 13.5964 18.1998 15.4759 18.1998 15.4759H22.0063C22.0063 15.4759 22.0301 13.5964 20.2458 13.5964Z" fill="white"/>
                </svg>
              </a>

              <a target="_blank" class="linkedin" href="https://www.linkedin.com/in/anna-krivoruchko-5692251aa/">
                <svg class="contacts__link icon" width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M22.4584 0.0119629H7.51784C3.37827 0.0119629 0 3.39023 0 7.52981V22.4941C0 26.6099 3.37827 29.9882 7.51784 29.9882H22.4822C26.6217 29.9882 30 26.6099 30 22.4703V7.52981C29.9762 3.39023 26.5979 0.0119629 22.4584 0.0119629ZM9.99207 24.2784H5.70975V11.9073H9.99207V24.2784ZM7.82712 10.004C6.6138 10.004 5.63838 9.02862 5.63838 7.81529C5.63838 6.60197 6.6138 5.62655 7.82712 5.62655C9.04044 5.62655 10.0159 6.60197 10.0159 7.81529C9.99207 9.02862 9.01665 10.004 7.82712 10.004ZM24.2902 24.2784H24.2665H20.6979V18.2832C20.6979 16.8319 20.5075 14.9763 18.5329 14.9763C16.5107 14.9763 16.1776 16.5465 16.1776 18.188V24.2784H12.609V11.9073H15.9397V13.5726H16.0349C16.5583 12.621 17.7716 11.8835 19.6749 11.8835C23.6003 11.8835 24.2902 14.1436 24.2902 17.4981V24.2784Z" fill="white"/>
                </svg>
              </a>
            </div>

            <div class="contacts__descr">You can leave your details for feedback</div>

            <form @submit.prevent="onSubmit" id="contacts-form" action="#" class="contacts__form">
              <div class="contacts__input">
                <input v-model="name" required name="name" id="name" type="text">
                <label for="name">Your name</label>
              </div>
              <div class="contacts__input">
                <input v-model="email" required name="email" id="email" type="email">
                <label for="email">Your email</label>
              </div>
              <div class="contacts__textarea">
                <textarea v-model="message" id="message" name="message"></textarea>
                <label for="message">Your message</label>
              </div>
              <div class="contacts__triggers">
                <button class="btn btn_contacts">Send a message</button>
              </div>
              <div id="sent" class="contacts__ufo"><img src="@/assets/icn/ufo.svg" alt="UFO"></div>
            </form>
          </div>
        </div>
        <div class="contacts__copyright">All rights reserved Â©2021 - Anna Krivoruchko</div>
      </div>
    </div>

  </section>
</template>

<script>
import axios from 'axios';

export default {
  data() {
    return {
      name: '',
      email: '',
      message: ''
    }
  },

  methods: {
    onSubmit() {
      console.log(`Name: ${this.name}, email: ${this.email}, message: ${this.message}`);

      axios.post('mailer/post.php', {
        'name': this.name,
        'email': this.email,
        'message': this.message
      }).then(response => {
        console.log('success', response.data.message)

        // animation
        const ufo = document.querySelector('#sent');
        ufo.classList.add('animated', 'fadeInUp');
        setTimeout(() => {
          ufo.classList.add('fadeOutUp');
        }, 1000);
        setTimeout(() => {
          ufo.classList.remove('fadeOutUp')
        }, 3000);

      }).catch(error => {
        console.log(error.response);
      });
    }
  }
}
</script>

<style lang="scss">
.contacts {
  background-color: #080907;
  background-blend-mode: difference;
  background-image: url('../assets/img/portfolio-bg-min.jpg');
  background-size: 100%;
  background-attachment: fixed;
  min-height: 100vh;

  @media (max-width: 990px) {
    background-size: 100%;
  }

  &__moon {
    background-image: url('../assets/img/moon-min.png');
    background-size: 30%;
    background-repeat: no-repeat;
    background-attachment: fixed;
    background-blend-mode: hard-light;
    background-position: 90% 25%;
    padding: 94px 0 55px 0;

    @media (max-width: 990px) {
      padding: 94px 35px 40px 35px;
    }

    @media (max-width: 576px) {
      padding: 60px 0 40px 0;
    }
  }

  &__wrapper {
    display: flex;
    justify-content: flex-start;
    position: relative;

    @media (max-width: 990px) {
      justify-content: flex-start;
    }
  }

  &__link {
    max-width: 25px;
    max-height: 25px;
    margin-right: 15px;

    path {
      transition: 0.6s all;
      fill: white;
    }

    rect {
      transition: 0.6s all;
      fill: white;
    }

    &:hover {
      path {
        fill: $middle;

        @media (max-width: 768px) {
          fill: white;
        }
      }
      rect {
        fill: $middle;

        @media (max-width: 768px) {
          fill: white;
        }
      }
    }
  }

  &__descr {
    color: white;
    font-weight: bold;
    font-size: 14px;
    margin-top: 25px;
  }

  &__social {
    margin-top: 25px;
    a {
      text-decoration: none;
    }
  }

  &__form {
    margin-top: 30px;
    display: grid;
    grid-template: 45px 190px 45px / repeat(2, 280px);
    justify-content: space-between;
    row-gap: 30px;
    column-gap: 25px;
    position: relative;

    @media (max-width: 768px) {
      grid-template: 45px 45px 190px 45px/ minmax(280px, 400px);
    }

    @media (max-width: 576px) {
      grid-template-columns: 1fr;
      grid-template-rows: 45px 45px 190px 45px;
    }

    label {
      position: absolute;
      display: block;
      color: white;
      font-size: 14px;
      width: 90px;
      height: 18px;
      padding: 0 6px;
      background: #080907;
      margin-bottom: 0;
      top: -10px;
      left: 12px;
      text-align: center;
    }
  }

  &__content {
    @media (max-width: 576px) {
      margin: 0 auto;
      width: 100%;
    }
  }

  &__triggers {
    grid-column: 1/3;
    display: grid;
    grid-template-columns: repeat(2, auto);
    justify-content: space-between;
    align-items: center;

    @media (max-width: 768px) {
      grid-template-columns: auto;
      row-gap: 25px;
      margin-top: -15px;
    }
  }

  &__input {
    position: relative;

    @media (max-width: 768px) {
      grid-column: 1/3;
    }

    input {
      width: 100%;
      height: 100%;
      border-radius: 4px;
      border: 1px solid #FFFFFF;
      background: rgba(0,0,0,0);
      padding: 0 20px;
      font-size: 14px;
      color: white;
    }
  }

  &__textarea {
    position: relative;
    grid-column: 1/3;

    textarea {
      width: 100%;
      height: 100%;
      border-radius: 4px;
      border: 1px solid #FFFFFF;
      background: rgba(0,0,0,0);
      padding: 20px;
      font-size: 14px;
      color: white;
      resize: none;
    }

    label {
      width: 110px;
    }
  }

  &__copyright {
    color:  rgba(210, 221, 228, 0.3);
    margin-top: 75px;
    text-align: left;
    font-size: 14px;

    @media (max-width: 990px) {
      text-align: left;
    }

    @media (max-width: 768px) {
      margin-top: 120px;
    }

    @media (max-width: 576px) {
      text-align: center;
    }
  }

  &__ufo {
    //display: none;
    opacity: 0;
    position: absolute;
    left: 46%;
    bottom: 40%;

    @media (max-width: 768px) {
      left: 44%;
    }

    @media (max-width: 576px) {
      left: 43%;
    }
  }

  .btn_contacts {
    @media (max-width: 768px) {
      order: 2;
    }
  }
}
</style>
